<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>ALICE Run-by-run statistics</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.2/dc.min.css" rel="stylesheet">
    <link href="./assets/css/materialize.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <style>
      body {
      font-family: 'Source Sans Pro', sans-serif;
      }

      .x-axis-label, .y-axis-label {
      fill: #95a5a6;
      font-size: 10px;
      }

      .dc-chart g.row text {
      fill: #2c3e50;
      font-size: 9px;
      cursor: pointer;
      font-weight: bolder;
      }

      .dc-chart .pie-slice {
      fill: #2c3e50;
      font-size: 10px;
      cursor: pointer;
      font-weight: bolder;
      }

      .axis path {
      stroke: #95a5a6;
      }

     .btn {
	 text-transform: none;
     }
    </style>
  </head>
  <body>
      <div class="container">
	  <div class="row">
	      <div class="col-md-1"></div>
	      <div class="col-md-10">
		  <h1>ALICE data-taking statistics</h1>
		  <h2>
		      <small>
			  Filter on various features using the visualizations below and propose improvements at our github <a href="https://github.com/cbourjau/alice-dashboard">page</a>.
		      </small>
		  </h2>
		  <br/>
	      </div>
	      <div class="col-md-1"></div>
	  </div>
	  <ul class="nav nav-tabs">
	      <li role="presentation" class="active"><a href="index.html">Overview</a></li>
	      <li role="presentation"><a href="period.html">Period details</a></li>
	  </ul>
	  <div class="row">
	      <div class="col-md-10">
		  <h4>All recorded runs and their duration</h4>
		  <h4><small>You can select a region here</small></h4>
		  <div id="nEventsChart"></div>
	      </div>
	      <div class="col-md-2">
		  <h4>Collision system</h4>
		  <p>
		      <button type="button" class="btn btn-primary active" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="toggle_beamtype_filter('p-p')">
		      pp
		      </button>
		  </p>
		  <p>
		      <button type="button" class="btn btn-primary active" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="toggle_beamtype_filter('p-Pb')">
		      p-Pb
		      </button>
		  </p>
		  <p>
		      <button type="button" class="btn btn-primary active" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="toggle_beamtype_filter('Pb-Pb')">
			  Pb-Pb
		      </button>
		  </p>
	      </div>
	  </div>

	  <div class="row">
	      <div class="col-md-12">
		  <h4>Approximate number of triggers in the above selected range</h4>
		  <div id="triggerChart" style="width:100%;"></div>
	      </div>
	  </div>
	  <div class="row">
	      <div class="col-md-12">
	      <h4>Summary table</h4>
	      <table id="summary-table" class="table table-condensed table-striped">
		  <thead>
		      <tr>
			  <th>Period name</th>
			  <th># Run</th>
			  <th>System</th>
			  <th>Energy per beam</th>
			  <th>RCT</th>
			  <th>Logbook files</th>
			  <th>Trending files</th>
			  <th>DPG approved</th>
		      </tr>
		  </thead>
	      </table>
	  </div>
	  <div class="row">
	      <div class="col-md-12">
		  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
		      <div class="panel panel-default">
			  <div class="panel-heading" role="tab" id="headingOne">
			      <h4 class="panel-title">
				  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
				      Advanced Charts:
				  </a>
			      </h4>
			  </div>
			  <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
			      <div class="panel-body">
				  <div class="row">
				      <div class="col s4">
					  <h4>Physics partition:</h4>
					  <div id="partitionChart" style="width:100%;"></div>
				      </div>
				      <div class="col s4">
					  <h4>Beam status:</h4>
					  <div id="beamChart" style="width:100%;"></div>
				      </div>
				  </div>
			      </div>
			  </div>
		      </div>
		  </div>
	      </div>
	  </div>
      </div>
      <script src="./lib/crossfilter.min.js"></script>
      <script src="./lib/d3.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.2/dc.min.js"></script>
      <script src="./lib/jquery.min.js"></script>
      <script src="dashboard.js"></script>

      <script>
       dashboardTutorial.createDashboard();
      </script>

      <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

      <!-- Optional theme -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

      <!-- Latest compiled and minified JavaScript -->
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  </body>
</html>
